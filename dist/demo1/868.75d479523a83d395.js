"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[868],{6868:(_e,b,l)=>{l.r(b),l.d(b,{AuthModule:()=>ve});var m=l(177),s=l(9417),c=l(2791),e=l(7705);const v=["root",""],k=function(){return{"background-image":"url(./assets/media/misc/auth-bg.png)"}};let _=(()=>{class o{today=new Date;constructor(){}ngOnInit(){}ngOnDestroy(){}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.VBU({type:o,selectors:[["body","root",""]],attrs:v,decls:32,vars:2,consts:[[1,"d-flex","flex-column","flex-lg-row","flex-column-fluid"],[1,"d-flex","flex-column","flex-lg-row-fluid","w-lg-50","p-10","order-2","order-lg-1"],[1,"d-flex","flex-center","flex-column","flex-lg-row-fluid"],[1,"<?php","echo","$params['wrapperClass']?>","p-10"],[1,"d-flex","flex-center","flex-wrap","px-5"],[1,"d-flex","fw-semibold","text-primary","fs-base"],["href","#","target","_blank",1,"px-5"],[1,"d-flex","flex-lg-row-fluid","w-lg-50","bgi-size-cover","bgi-position-center","order-1","order-lg-2",3,"ngStyle"],[1,"d-flex","flex-column","flex-center","py-15","px-5","px-md-15","w-100"],["routerLink","/",1,"mb-12"],["alt","Logo","src","./assets/media/logos/custom-1.png",1,"h-75px"],["src","./assets/media/misc/auth-screens.png","alt","",1,"mx-auto","w-275px","w-md-50","w-xl-500px","mb-10","mb-lg-20"],[1,"text-white","fs-2qx","fw-bolder","text-center","mb-7"],[1,"text-white","fs-base","text-center"],["href","#",1,"opacity-75-hover","text-warning","fw-bold","me-1"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"router-outlet"),e.k0s()(),e.j41(5,"div",4)(6,"div",5)(7,"a",6),e.EFF(8,"Terms"),e.k0s(),e.j41(9,"a",6),e.EFF(10,"Plans"),e.k0s(),e.j41(11,"a",6),e.EFF(12,"Contact Us"),e.k0s()()()(),e.j41(13,"div",7)(14,"div",8)(15,"a",9),e.nrm(16,"img",10),e.k0s(),e.nrm(17,"img",11),e.j41(18,"h1",12),e.EFF(19," R\xe1pida, eficiente y productiva "),e.k0s(),e.j41(20,"div",13),e.EFF(21," En este tipo de publicaci\xf3n, "),e.j41(22,"a",14),e.EFF(23,"el bloguero"),e.k0s(),e.EFF(24," Presenta a una persona que han entrevistado "),e.nrm(25,"br"),e.EFF(26," y proporciona informaci\xf3n de fondo sobre "),e.j41(27,"a",14),e.EFF(28,"La entrevistada"),e.k0s(),e.EFF(29," y su "),e.nrm(30,"br"),e.EFF(31," Lo que sigue a continuaci\xf3n es una transcripci\xf3n de la entrevista. "),e.k0s()()()()),2&n&&(e.R7$(13),e.Y8G("ngStyle",e.lJ4(1,k)))},dependencies:[m.B3,c.n3,c.Wk],styles:["[_nghost-%COMP%]{height:100%}"]})}return o})();var f=l(1594),E=l(980),g=l(5075),y=l(4956),F=l(9321);function C(o,i){1&o&&(e.qex(0),e.j41(1,"div",42)(2,"div",43),e.nrm(3,"i",44),e.j41(4,"div",45),e.EFF(5," Si ya tienes cuenta, usa tu correo y contrase\xf1a. "),e.nrm(6,"br"),e.j41(7,"span",46),e.EFF(8,"\xbfNuevo aqu\xed? "),e.j41(9,"a",47),e.EFF(10,"Reg\xedstrate ahora"),e.k0s()()()()(),e.bVm())}function P(o,i){1&o&&(e.qex(0),e.j41(1,"div",48)(2,"div",43),e.nrm(3,"i",49),e.j41(4,"div",45)(5,"strong"),e.EFF(6,"Error de autenticaci\xf3n"),e.k0s(),e.nrm(7,"br"),e.EFF(8," Los datos ingresados son incorrectos o no est\xe1s registrado. "),e.k0s()()(),e.bVm())}function x(o,i){1&o&&(e.qex(0),e.j41(1,"span",50),e.nrm(2,"span",51),e.EFF(3," Iniciando sesi\xf3n... "),e.k0s(),e.bVm())}function j(o,i){1&o&&(e.qex(0),e.j41(1,"span",52),e.nrm(2,"i",53),e.EFF(3," Iniciar Sesi\xf3n "),e.k0s(),e.bVm())}function T(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",54)(2,"div",55)(3,"span",56),e.nrm(4,"i",57),e.EFF(5),e.k0s()()(),e.bVm()),2&o){const r=e.XpG().message;e.R7$(5),e.SpI(" ",r," ")}}function G(o,i){if(1&o&&e.DNE(0,T,6,1,"ng-container",14),2&o){const r=i.control;e.Y8G("ngIf",r.hasError(i.validation)&&(r.dirty||r.touched))}}const w=function(o,i){return{"is-invalid border-danger":o,"is-valid border-success":i}},O=function(o){return{validation:"required",message:"El correo electr\xf3nico es obligatorio",control:o}},S=function(o){return{validation:"email",message:"Ingresa un correo electr\xf3nico v\xe1lido",control:o}},L=function(o){return{validation:"minLength",message:"El correo debe tener al menos 3 caracteres",control:o}},R=function(o){return{validation:"maxLength",message:"El correo no puede exceder 360 caracteres",control:o}},$=function(o){return{validation:"required",message:"La contrase\xf1a es obligatoria",control:o}},q=function(o){return{validation:"minlength",message:"La contrase\xf1a debe tener al menos 3 caracteres",control:o}},Y=function(o){return{validation:"maxLength",message:"La contrase\xf1a no puede exceder 100 caracteres",control:o}};let I=(()=>{class o{fb;authService;route;router;permissionService;authGoogleService;defaultAuth={email:"",password:""};loginForm;hasError=!1;isLoading=!1;isLoading$;returnUrl;showPassword=!1;unsubscribe=[];constructor(r,n,t,a,d,ke){this.fb=r,this.authService=n,this.route=t,this.router=a,this.permissionService=d,this.authGoogleService=ke,this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.initForm(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/";const r=this.route.snapshot.queryParams.googleError;r&&(this.hasError=!0,console.error("Error de autenticaci\xf3n con Google:",r))}get f(){return this.loginForm.controls}initForm(){this.loginForm=this.fb.group({email:[this.defaultAuth.email,s.k0.compose([s.k0.required,s.k0.email,s.k0.minLength(3),s.k0.maxLength(320)])],password:[this.defaultAuth.password,s.k0.compose([s.k0.required,s.k0.minLength(3),s.k0.maxLength(100)])],rememberMe:[!1]})}togglePasswordVisibility(){this.showPassword=!this.showPassword}login(){this.authGoogleService.login()}showData(){const r=JSON.stringify(this.authGoogleService.getProfile());console.log(r)}logOut(){this.authGoogleService.logout(),this.router.navigate(["login"])}signInWithGoogle(){this.login()}submit(){this.hasError=!1,this.isLoading=!0;const r=this.authService.login(this.f.email.value,this.f.password.value).pipe((0,f.$)(),(0,E.j)(()=>{this.isLoading=!1})).subscribe(n=>{n?this.loadPermissionsAndNavigate():this.hasError=!0});this.unsubscribe.push(r)}loadPermissionsAndNavigate(){this.permissionService.loadUserPermissions().subscribe(r=>{console.log("Permisos cargados despu\xe9s del login:",r),window.location.href=this.returnUrl},r=>{console.error("Error al cargar permisos despu\xe9s del login:",r),window.location.href=this.returnUrl})}loginWithGoogle(){this.authGoogleService.login()}ngOnDestroy(){this.unsubscribe.forEach(r=>r.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.rXU(s.ok),e.rXU(g.u),e.rXU(c.nX),e.rXU(c.Ix),e.rXU(y.n),e.rXU(F.x))};static \u0275cmp=e.VBU({type:o,selectors:[["app-login"]],decls:73,vars:50,consts:[["novalidate","novalidate","id","kt_login_signin_form",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"mb-6"],[1,"symbol","symbol-100px","symbol-circle","bg-light-primary"],[1,"ki-outline","ki-profile-user","fs-2x","text-primary"],[1,"text-gray-900","fw-bolder","mb-3","fs-2hx"],[1,"text-gray-600","fw-semibold","fs-5","mb-5"],[1,"text-primary","fw-bold"],[1,"mb-8"],["type","button",1,"btn","btn-flex","btn-outline","btn-color-gray-700","btn-active-color-primary","bg-state-light","flex-center","text-nowrap","w-100","h-50px",3,"click"],["src","https://img.icons8.com/color/20/000000/google-logo.png","alt","Google logo",1,"me-3"],[1,"fw-semibold"],[1,"separator","separator-content","my-10"],[1,"w-200px","text-gray-500","fw-semibold","fs-7","bg-body","px-4"],[4,"ngIf"],[1,"fv-row","mb-6"],[1,"form-label","fs-6","fw-bold","text-gray-900","required"],[1,"position-relative"],[1,"ki-outline","ki-sms","fs-2","text-gray-500","position-absolute","top-50","translate-middle-y","ms-4"],["type","email","name","email","formControlName","email","autocomplete","email","placeholder","nombre@ejemplo.com",1,"form-control","form-control-lg","bg-transparent","ps-12",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-label","fw-bold","text-gray-900","fs-6","mb-2","required"],[1,"ki-outline","ki-lock","fs-2","text-gray-500","position-absolute","top-50","translate-middle-y","ms-4"],["name","password","autocomplete","current-password","placeholder","Ingresa tu contrase\xf1a","formControlName","password",1,"form-control","form-control-lg","bg-transparent","ps-12","pe-12",3,"type","ngClass"],["type","button",1,"btn","btn-sm","btn-icon","position-absolute","top-50","end-0","translate-middle-y","me-3",3,"click"],[1,"fs-2",3,"ngClass"],[1,"d-flex","flex-stack","flex-wrap","gap-3","fs-base","fw-semibold","mb-10"],[1,"form-check"],["type","checkbox","id","remember_me","formControlName","rememberMe",1,"form-check-input"],["for","remember_me",1,"form-check-label","text-gray-700"],["routerLink","/auth/forgot-password",1,"link-primary","fw-bold","text-decoration-underline"],[1,"d-grid","mb-8"],["type","submit","id","kt_sign_in_submit",1,"btn","btn-primary","btn-lg","fw-bold","py-4","shadow-sm",3,"disabled"],[1,"d-flex","justify-content-center","mb-10"],[1,"text-center"],[1,"text-gray-500","fw-semibold","fs-6","mb-4"],["routerLink","/auth/registration",1,"btn","btn-outline-primary","btn-outline-dashed","px-8","py-3","rounded-pill","shadow-sm","fw-bold","fs-5"],[1,"ki-outline","ki-user-plus","fs-2","me-2"],[1,"text-center","mt-10"],[1,"text-gray-400","fw-semibold","fs-7"],["href","#",1,"link-primary","text-decoration-underline"],["formError",""],[1,"mb-8","bg-light-info","rounded-3","p-6","border","border-info","border-dashed"],[1,"d-flex","align-items-center"],[1,"ki-outline","ki-information-5","fs-2tx","text-info","me-4"],[1,"text-gray-700","fw-semibold","fs-6"],[1,"text-info"],["routerLink","/auth/registration",1,"link-info","fw-bold","text-decoration-underline"],[1,"mb-8","bg-light-danger","rounded-3","p-6","border","border-danger","border-dashed"],[1,"ki-outline","ki-cross-circle","fs-2tx","text-danger","me-4"],[1,"indicator-progress","d-flex","align-items-center","justify-content-center"],[1,"spinner-border","spinner-border-sm","me-3"],[1,"indicator-label","d-flex","align-items-center","justify-content-center"],[1,"ki-outline","ki-right","fs-2","ms-2"],[1,"fv-plugins-message-container","mt-2"],[1,"fv-help-block"],["role","alert",1,"text-danger","fw-semibold","fs-7","d-flex","align-items-center"],[1,"ki-outline","ki-information-5","fs-6","me-2"]],template:function(n,t){if(1&n&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return t.submit()}),e.j41(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"i",4),e.k0s()(),e.j41(5,"h1",5),e.EFF(6," \xa1Bienvenido de vuelta! "),e.k0s(),e.j41(7,"div",6),e.EFF(8," Accede a tus campa\xf1as de "),e.j41(9,"span",7),e.EFF(10,"AvisOnline"),e.k0s()()(),e.j41(11,"div",8)(12,"button",9),e.bIt("click",function(){return t.login()}),e.nrm(13,"img",10),e.j41(14,"span",11),e.EFF(15,"Continuar con Google"),e.k0s()()(),e.j41(16,"div",12)(17,"span",13),e.EFF(18,"O contin\xfaa con tu correo"),e.k0s()(),e.DNE(19,C,11,0,"ng-container",14),e.DNE(20,P,9,0,"ng-container",14),e.j41(21,"div",15)(22,"label",16),e.EFF(23,"Correo electr\xf3nico"),e.k0s(),e.j41(24,"div",17),e.nrm(25,"i",18)(26,"input",19),e.k0s(),e.eu8(27,20)(28,20)(29,20)(30,20),e.k0s(),e.j41(31,"div",15)(32,"label",21),e.EFF(33,"Contrase\xf1a"),e.k0s(),e.j41(34,"div",17),e.nrm(35,"i",22)(36,"input",23),e.j41(37,"button",24),e.bIt("click",function(){return t.togglePasswordVisibility()}),e.nrm(38,"i",25),e.k0s()(),e.eu8(39,20)(40,20)(41,20),e.k0s(),e.j41(42,"div",26)(43,"div",27),e.nrm(44,"input",28),e.j41(45,"label",29),e.EFF(46," Recordar mis datos "),e.k0s()(),e.j41(47,"a",30),e.EFF(48," \xbfOlvidaste tu contrase\xf1a? "),e.k0s()(),e.j41(49,"div",31)(50,"button",32),e.nI1(51,"async"),e.DNE(52,x,4,0,"ng-container",14),e.nI1(53,"async"),e.DNE(54,j,4,0,"ng-container",14),e.nI1(55,"async"),e.k0s()(),e.j41(56,"div",33)(57,"div",34)(58,"div",35),e.EFF(59,"\xbfA\xfan no tienes una cuenta?"),e.k0s(),e.j41(60,"a",36),e.nrm(61,"i",37),e.EFF(62," Crear cuenta nueva "),e.k0s()()(),e.j41(63,"div",38)(64,"div",39),e.EFF(65," Al continuar, aceptas nuestros "),e.j41(66,"a",40),e.EFF(67,"T\xe9rminos de Servicio"),e.k0s(),e.EFF(68," y "),e.j41(69,"a",40),e.EFF(70,"Pol\xedtica de Privacidad"),e.k0s()()()(),e.DNE(71,G,1,1,"ng-template",null,41,e.C5r)),2&n){const a=e.sdS(72);e.Y8G("formGroup",t.loginForm),e.R7$(19),e.Y8G("ngIf",!t.hasError),e.R7$(1),e.Y8G("ngIf",t.hasError),e.R7$(6),e.Y8G("ngClass",e.l_i(30,w,t.loginForm.controls.email.invalid&&(t.loginForm.controls.email.dirty||t.loginForm.controls.email.touched),t.loginForm.controls.email.valid&&(t.loginForm.controls.email.dirty||t.loginForm.controls.email.touched))),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(33,O,t.loginForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(35,S,t.loginForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(37,L,t.loginForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(39,R,t.loginForm.controls.email)),e.R7$(6),e.Y8G("type",t.showPassword?"text":"password")("ngClass",e.l_i(41,w,t.loginForm.controls.password.invalid&&(t.loginForm.controls.password.dirty||t.loginForm.controls.password.touched),t.loginForm.controls.password.valid&&(t.loginForm.controls.password.dirty||t.loginForm.controls.password.touched))),e.R7$(2),e.Y8G("ngClass",t.showPassword?"ki-eye-slash":"ki-eye"),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(44,$,t.loginForm.controls.password)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(46,q,t.loginForm.controls.password)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(48,Y,t.loginForm.controls.password)),e.R7$(9),e.Y8G("disabled",t.loginForm.invalid||e.bMT(51,24,t.isLoading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(53,26,t.isLoading$)),e.R7$(2),e.Y8G("ngIf",!1===e.bMT(55,28,t.isLoading$))}},dependencies:[m.YU,m.bT,m.T3,s.qT,s.me,s.Zm,s.BC,s.cb,s.j4,s.JD,c.Wk,m.Jj],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return o})();var N=l(4412);class M{static MatchPassword(i){const r=i.get("password")?.value,n=i.get("cPassword")?.value;r!==n&&i.get("cPassword")?.setErrors({ConfirmPassword:!0})}}var V=l(2676);class h{static nameValidator(){return i=>i.value?/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xf1\xd1\xfc\xdc\s]+$/.test(i.value.trim())?0===i.value.trim().length?{onlySpaces:!0}:null:{invalidName:!0}:null}static strongPasswordValidator(){return i=>{if(!i.value)return null;const r=i.value,n={};return r.length<8&&(n.minLength=!0),/[a-z]/.test(r)||(n.noLowercase=!0),/[A-Z]/.test(r)||(n.noUppercase=!0),/\d/.test(r)||(n.noNumber=!0),this.isCommonPassword(r)&&(n.commonPassword=!0),this.hasSimplePatterns(r)&&(n.simplePattern=!0),Object.keys(n).length>0?n:null}}static isCommonPassword(i){return["12345678","87654321","password","contrase\xf1a","qwerty","abc123","123abc","admin123","password123","12345678","qwerty123","letmein","welcome","monkey","dragon","princess","baseball","football","welcome123","admin","1234567890","asdfjkl;","zxcvbnm","iloveyou","sunshine"].includes(i.toLowerCase())}static hasSimplePatterns(i){const r=["0123","1234","2345","3456","4567","5678","6789","9876","8765","7654","6543","5432","4321","3210"],n=["qwer","asdf","zxcv","yuio","hjkl","bnm","rewq","fdsa","vcxz"],a=i.toLowerCase();for(const d of r)if(a.includes(d))return!0;for(const d of n)if(a.includes(d))return!0;return!!/(.)\1{3,}/.test(i)}static confirmPasswordValidator(i){return r=>{if(!r.parent)return null;const n=r.parent.get(i);return n&&r&&n.value!==r.value?{ConfirmPassword:!0}:null}}}function D(o,i){1&o&&(e.qex(0),e.j41(1,"div",41)(2,"i",42),e.nrm(3,"span",18)(4,"span",19),e.k0s(),e.j41(5,"div")(6,"strong"),e.EFF(7,"\xa1Registro exitoso!"),e.k0s(),e.EFF(8," Ser\xe1s redirigido en unos segundos... "),e.k0s()(),e.bVm())}function U(o,i){1&o&&(e.qex(0),e.j41(1,"div",43)(2,"i",44),e.nrm(3,"span",18)(4,"span",19),e.k0s(),e.j41(5,"div",7),e.EFF(6," Los datos de registro son incorrectos. Por favor, verifica la informaci\xf3n ingresada. "),e.k0s()(),e.bVm())}function A(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",45)(2,"div",46)(3,"span",47)(4,"i",48),e.nrm(5,"span",18)(6,"span",19)(7,"span",26),e.k0s(),e.EFF(8),e.k0s()()(),e.bVm()),2&o){const r=e.XpG();e.R7$(8),e.SpI(" ",r.getNameErrorMessage()," ")}}function X(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",45)(2,"div",46)(3,"span",47)(4,"i",49),e.nrm(5,"span",18)(6,"span",19),e.k0s(),e.EFF(7),e.k0s()()(),e.bVm()),2&o){const r=e.XpG();e.R7$(7),e.SpI(" ",r.getPasswordErrorMessage()," ")}}function B(o,i){1&o&&(e.qex(0),e.j41(1,"div",45)(2,"div",46)(3,"span",47)(4,"i",49),e.nrm(5,"span",18)(6,"span",19),e.k0s(),e.EFF(7," Las contrase\xf1as no coinciden "),e.k0s()()(),e.bVm())}function J(o,i){1&o&&(e.qex(0),e.j41(1,"span",50),e.EFF(2,"Crear Cuenta"),e.k0s(),e.bVm())}function z(o,i){1&o&&(e.qex(0),e.j41(1,"span",51),e.nrm(2,"span",52),e.EFF(3," Creando cuenta... "),e.k0s(),e.bVm()),2&o&&(e.R7$(1),e.xc7("display","block"))}function W(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",45)(2,"div",46)(3,"span",47)(4,"i",48),e.nrm(5,"span",18)(6,"span",19)(7,"span",26),e.k0s(),e.EFF(8),e.k0s()()(),e.bVm()),2&o){const r=e.XpG().message;e.R7$(8),e.SpI(" ",r," ")}}function H(o,i){if(1&o&&e.DNE(0,W,9,1,"ng-container",10),2&o){const r=i.control;e.Y8G("ngIf",r.hasError(i.validation)&&(r.dirty||r.touched))}}const p=function(o,i){return{"is-invalid":o,"is-valid":i}},Z=function(o){return{validation:"required",message:"El correo es obligatorio",control:o}},Q=function(o){return{validation:"email",message:"Ingresa un correo v\xe1lido",control:o}},K=function(o){return{validation:"minlength",message:"El correo debe tener al menos 3 caracteres",control:o}},ee=function(o){return{validation:"maxLength",message:"El correo no debe exceder los 360 caracteres",control:o}},oe=function(o){return{validation:"required",message:"Confirmar contrase\xf1a es obligatorio",control:o}},te=function(o){return{validation:"minlength",message:"Debe tener al menos 8 caracteres",control:o}},re=function(o){return{validation:"maxLength",message:"No debe exceder los 100 caracteres",control:o}};let ne=(()=>{class o{fb;authService;router;authGoogleService;registrationForm;hasError=!1;registrationSuccess=!1;isLoadingSubject=new N.t(!1);isLoading$=this.isLoadingSubject.asObservable();unsubscribe=[];showPassword=!1;showConfirmPassword=!1;constructor(r,n,t,a){this.fb=r,this.authService=n,this.router=t,this.authGoogleService=a,this.authService.currentUserValue&&this.router.navigate(["/"])}login(){this.authGoogleService.login()}showData(){const r=JSON.stringify(this.authGoogleService.getProfile());console.log(r)}logOut(){this.authGoogleService.logout(),this.router.navigate(["login"])}ngOnInit(){this.initForm()}get f(){return this.registrationForm.controls}initForm(){this.registrationForm=this.fb.group({name:["",[s.k0.required,s.k0.minLength(3),s.k0.maxLength(100),h.nameValidator()]],email:["",[s.k0.required,s.k0.email,s.k0.minLength(3),s.k0.maxLength(320)]],password:["",[s.k0.required,s.k0.minLength(8),s.k0.maxLength(100),h.strongPasswordValidator()]],cPassword:["",[s.k0.required,s.k0.minLength(8),s.k0.maxLength(100),h.confirmPasswordValidator("password")]],agree:[!1,s.k0.requiredTrue]},{validator:M.MatchPassword}),this.registrationForm.get("password")?.valueChanges.subscribe(()=>{this.registrationForm.get("cPassword")?.updateValueAndValidity()})}submit(){if(this.hasError=!1,this.registrationSuccess=!1,this.registrationForm.valid){this.isLoadingSubject.next(!0);const r={};Object.keys(this.f).forEach(a=>{r[a]=this.f[a].value});const n=new V.F;n.setUser({name:r.name,email:r.email,password:r.password});const t=this.authService.registration(n).pipe((0,f.$)()).subscribe({next:a=>{this.isLoadingSubject.next(!1),a?(this.registrationSuccess=!0,setTimeout(()=>{this.router.navigate(["/"])},2e3)):this.hasError=!0},error:()=>{this.isLoadingSubject.next(!1),this.hasError=!0}});this.unsubscribe.push(t)}else this.markFormGroupTouched()}markFormGroupTouched(){Object.keys(this.registrationForm.controls).forEach(r=>{this.registrationForm.get(r)?.markAsTouched()})}getNameErrorMessage(){const r=this.registrationForm.get("name");return r?.hasError("required")?"El nombre es obligatorio":r?.hasError("minlength")?"El nombre debe tener al menos 3 caracteres":r?.hasError("maxLength")?"El nombre no debe exceder los 100 caracteres":r?.hasError("invalidName")?"El nombre solo debe contener letras y espacios":r?.hasError("onlySpaces")?"El nombre no puede contener solo espacios":""}getPasswordErrorMessage(){const r=this.registrationForm.get("password");return r?.hasError("required")?"La contrase\xf1a es obligatoria":r?.hasError("minLength")?"La contrase\xf1a debe tener al menos 8 caracteres":r?.hasError("maxLength")?"La contrase\xf1a no debe exceder los 100 caracteres":r?.hasError("noLowercase")?"Debe contener al menos una letra min\xfascula":r?.hasError("noUppercase")?"Debe contener al menos una letra may\xfascula":r?.hasError("noNumber")?"Debe contener al menos un n\xfamero":r?.hasError("noSpecialChar")?"Debe contener al menos un car\xe1cter especial (!@#$%^&*...)":r?.hasError("commonPassword")?"Esta contrase\xf1a es muy com\xfan":r?.hasError("simplePattern")?"Evita secuencias simples como 1234, abcd, etc.":""}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}ngOnDestroy(){this.unsubscribe.forEach(r=>r.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.rXU(s.ok),e.rXU(g.u),e.rXU(c.Ix),e.rXU(F.x))};static \u0275cmp=e.VBU({type:o,selectors:[["app-registration"]],decls:106,vars:65,consts:[["novalidate","novalidate","id","kt_login_signup_form",1,"form","w-100","mw-600px","mx-auto",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-gray-900","fw-bolder","mb-3","fs-2x"],[1,"text-gray-600","fw-semibold","fs-5"],[1,"mb-8"],["type","button",1,"btn","btn-flex","btn-outline","btn-color-gray-700","btn-active-color-primary","bg-state-light","flex-center","text-nowrap","w-100","h-50px",3,"click"],["src","https://img.icons8.com/color/20/000000/google-logo.png","alt","Google logo",1,"me-3"],[1,"fw-semibold"],[1,"separator","separator-content","my-8"],[1,"w-150px","text-gray-500","fw-semibold","fs-7"],[4,"ngIf"],[1,"row","g-3","mb-8"],[1,"col-12"],[1,"fv-row"],[1,"form-label","fw-semibold","text-gray-900","fs-6","required"],[1,"input-group","input-group-solid"],[1,"input-group-text"],[1,"ki-duotone","ki-user","fs-4"],[1,"path1"],[1,"path2"],["type","text","name","name","formControlName","name","placeholder","Ingresa tu nombre completo","autocomplete","name",1,"form-control","form-control-solid",3,"ngClass"],[1,"text-muted","fs-7","mt-1"],[1,"ki-duotone","ki-sms","fs-4"],["type","email","placeholder","ejemplo@correo.com","name","email","formControlName","email","autocomplete","email",1,"form-control","form-control-solid",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ki-duotone","ki-lock-2","fs-4"],[1,"path3"],["placeholder","M\xednimo 8 caracteres","name","password","formControlName","password","autocomplete","new-password",1,"form-control","form-control-solid",3,"type","ngClass"],["type","button",1,"btn","btn-sm","btn-icon","btn-light","input-group-text","border-0",3,"title","click"],[1,"fa-solid",3,"ngClass"],["placeholder","Confirma tu contrase\xf1a","name","cPassword","autocomplete","new-password","formControlName","cPassword",1,"form-control","form-control-solid",3,"type","ngClass"],[1,"fv-row","mb-8"],[1,"form-check","form-check-custom","form-check-solid"],["id","kt_login_toc_agree","type","checkbox","formControlName","agree","name","agree",1,"form-check-input"],["for","kt_login_toc_agree",1,"form-check-label","fw-semibold","text-gray-700","fs-6","ms-1"],["href","https://keenthemes.com/metronic/?page=faq","target","_blank",1,"link-primary","fw-semibold"],[1,"d-grid","mb-8"],["type","submit","id","kt_sign_up_submit",1,"btn","btn-primary","btn-lg","h-50px",3,"disabled"],[1,"text-gray-500","text-center","fw-semibold","fs-6"],["routerLink","/auth/login",1,"link-primary","fw-semibold","ms-2"],["formError",""],[1,"mb-6","alert","alert-success","d-flex","align-items-center"],[1,"ki-duotone","ki-check-circle","fs-2","text-success","me-3"],[1,"mb-6","alert","alert-danger","d-flex","align-items-center"],[1,"ki-duotone","ki-cross-circle","fs-2","text-danger","me-3"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["role","alert",1,"text-danger","fs-7","fw-semibold"],[1,"ki-duotone","ki-information-2","fs-6","me-1"],[1,"ki-duotone","ki-cross-circle","fs-6","me-1"],[1,"indicator-label","fw-semibold"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","me-2"]],template:function(n,t){if(1&n&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return t.submit()}),e.j41(1,"div",1)(2,"h1",2),e.EFF(3,"Registrarse"),e.k0s(),e.j41(4,"div",3),e.EFF(5,"Crea tu cuenta en AvisOnline"),e.k0s()(),e.j41(6,"div",4)(7,"button",5),e.bIt("click",function(){return t.login()}),e.nrm(8,"img",6),e.j41(9,"span",7),e.EFF(10,"Continuar con Google"),e.k0s()()(),e.j41(11,"div",8)(12,"span",9),e.EFF(13,"O registrarse con correo"),e.k0s()(),e.DNE(14,D,9,0,"ng-container",10),e.DNE(15,U,7,0,"ng-container",10),e.j41(16,"div",11)(17,"div",12)(18,"div",13)(19,"label",14),e.EFF(20,"Nombre Completo"),e.k0s(),e.j41(21,"div",15)(22,"span",16)(23,"i",17),e.nrm(24,"span",18)(25,"span",19),e.k0s()(),e.nrm(26,"input",20),e.k0s(),e.j41(27,"div",21),e.EFF(28,"Solo se permiten letras "),e.k0s(),e.DNE(29,A,9,1,"ng-container",10),e.k0s()(),e.j41(30,"div",12)(31,"div",13)(32,"label",14),e.EFF(33,"Correo Electr\xf3nico"),e.k0s(),e.j41(34,"div",15)(35,"span",16)(36,"i",22),e.nrm(37,"span",18)(38,"span",19),e.k0s()(),e.nrm(39,"input",23),e.k0s(),e.eu8(40,24)(41,24)(42,24)(43,24),e.k0s()(),e.j41(44,"div",12)(45,"div",13)(46,"label",14),e.EFF(47,"Contrase\xf1a"),e.k0s(),e.j41(48,"div",15)(49,"span",16)(50,"i",25),e.nrm(51,"span",18)(52,"span",19)(53,"span",26),e.k0s()(),e.nrm(54,"input",27),e.j41(55,"button",28),e.bIt("click",function(){return t.togglePasswordVisibility()}),e.nrm(56,"i",29),e.k0s()(),e.j41(57,"div",21)(58,"strong"),e.EFF(59,"Requisitos de contrase\xf1a:"),e.k0s(),e.nrm(60,"br"),e.EFF(61," \u2022 M\xednimo 8 caracteres"),e.nrm(62,"br"),e.EFF(63," \u2022 Al menos una may\xfascula y una min\xfascula"),e.nrm(64,"br"),e.EFF(65," \u2022 Al menos un n\xfamero"),e.nrm(66,"br"),e.EFF(67," \u2022 No usar contrase\xf1as comunes o secuencias simples "),e.k0s(),e.DNE(68,X,8,1,"ng-container",10),e.k0s()(),e.j41(69,"div",12)(70,"div",13)(71,"label",14),e.EFF(72,"Confirmar Contrase\xf1a"),e.k0s(),e.j41(73,"div",15)(74,"span",16)(75,"i",25),e.nrm(76,"span",18)(77,"span",19)(78,"span",26),e.k0s()(),e.nrm(79,"input",30),e.j41(80,"button",28),e.bIt("click",function(){return t.toggleConfirmPasswordVisibility()}),e.nrm(81,"i",29),e.k0s()(),e.eu8(82,24)(83,24)(84,24),e.DNE(85,B,8,0,"ng-container",10),e.k0s()()(),e.j41(86,"div",31)(87,"div",32),e.nrm(88,"input",33),e.j41(89,"label",34),e.EFF(90," Acepto los "),e.j41(91,"a",35),e.EFF(92,"t\xe9rminos y condiciones"),e.k0s(),e.EFF(93," de uso "),e.k0s()()(),e.j41(94,"div",36)(95,"button",37),e.DNE(96,J,3,0,"ng-container",10),e.nI1(97,"async"),e.DNE(98,z,4,2,"ng-container",10),e.nI1(99,"async"),e.k0s()(),e.j41(100,"div",38),e.EFF(101," \xbfYa tienes una cuenta? "),e.j41(102,"a",39),e.EFF(103,"Iniciar sesi\xf3n"),e.k0s()()(),e.DNE(104,H,1,1,"ng-template",null,40,e.C5r)),2&n){const a=e.sdS(105);e.Y8G("formGroup",t.registrationForm),e.R7$(14),e.Y8G("ngIf",t.registrationSuccess),e.R7$(1),e.Y8G("ngIf",t.hasError),e.R7$(11),e.Y8G("ngClass",e.l_i(39,p,t.registrationForm.controls.name.invalid&&(t.registrationForm.controls.name.dirty||t.registrationForm.controls.name.touched),t.registrationForm.controls.name.valid&&(t.registrationForm.controls.name.dirty||t.registrationForm.controls.name.touched))),e.R7$(3),e.Y8G("ngIf",t.registrationForm.controls.name.invalid&&(t.registrationForm.controls.name.dirty||t.registrationForm.controls.name.touched)),e.R7$(10),e.Y8G("ngClass",e.l_i(42,p,t.registrationForm.controls.email.invalid&&(t.registrationForm.controls.email.dirty||t.registrationForm.controls.email.touched),t.registrationForm.controls.email.valid&&(t.registrationForm.controls.email.dirty||t.registrationForm.controls.email.touched))),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(45,Z,t.registrationForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(47,Q,t.registrationForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(49,K,t.registrationForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(51,ee,t.registrationForm.controls.email)),e.R7$(11),e.Y8G("type",t.showPassword?"text":"password")("ngClass",e.l_i(53,p,t.registrationForm.controls.password.invalid&&(t.registrationForm.controls.password.dirty||t.registrationForm.controls.password.touched),t.registrationForm.controls.password.valid&&(t.registrationForm.controls.password.dirty||t.registrationForm.controls.password.touched))),e.R7$(1),e.Y8G("title",t.showPassword?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a"),e.BMQ("aria-label",t.showPassword?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a"),e.R7$(1),e.Y8G("ngClass",t.showPassword?"fa-eye-slash":"fa-eye"),e.R7$(12),e.Y8G("ngIf",t.registrationForm.controls.password.invalid&&(t.registrationForm.controls.password.dirty||t.registrationForm.controls.password.touched)),e.R7$(11),e.Y8G("type",t.showConfirmPassword?"text":"password")("ngClass",e.l_i(56,p,t.registrationForm.controls.cPassword.invalid&&(t.registrationForm.controls.cPassword.dirty||t.registrationForm.controls.cPassword.touched),t.registrationForm.controls.cPassword.valid&&(t.registrationForm.controls.cPassword.dirty||t.registrationForm.controls.cPassword.touched))),e.R7$(1),e.Y8G("title",t.showConfirmPassword?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a"),e.BMQ("aria-label",t.showConfirmPassword?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a"),e.R7$(1),e.Y8G("ngClass",t.showConfirmPassword?"fa-eye-slash":"fa-eye"),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(59,oe,t.registrationForm.controls.cPassword)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(61,te,t.registrationForm.controls.cPassword)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(63,re,t.registrationForm.controls.cPassword)),e.R7$(1),e.Y8G("ngIf",t.registrationForm.controls.cPassword.errors&&t.registrationForm.controls.cPassword.errors.ConfirmPassword&&(t.registrationForm.controls.cPassword.dirty||t.registrationForm.controls.cPassword.touched)),e.R7$(10),e.Y8G("disabled",t.registrationForm.invalid||!t.registrationForm.controls.agree.value),e.R7$(1),e.Y8G("ngIf",!1===e.bMT(97,35,t.isLoading$)),e.R7$(2),e.Y8G("ngIf",e.bMT(99,37,t.isLoading$))}},dependencies:[m.YU,m.bT,m.T3,s.qT,s.me,s.Zm,s.BC,s.cb,s.j4,s.JD,c.Wk,m.Jj],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return o})();function se(o,i){1&o&&(e.qex(0),e.j41(1,"div",14)(2,"div",15),e.EFF(3," Sorry, looks like there are some errors detected, please try again. "),e.k0s()(),e.bVm())}function ie(o,i){1&o&&(e.qex(0),e.j41(1,"div",16)(2,"div",17),e.EFF(3,"Sent password reset. Please check your email"),e.k0s()(),e.bVm())}function ae(o,i){1&o&&(e.qex(0),e.j41(1,"span",18),e.EFF(2," Please wait... "),e.nrm(3,"span",19),e.k0s(),e.bVm())}function le(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",20)(2,"div",21)(3,"span",22),e.EFF(4),e.k0s()()(),e.bVm()),2&o){const r=e.XpG().message;e.R7$(4),e.JRh(r)}}function me(o,i){if(1&o&&e.DNE(0,le,5,1,"ng-container",4),2&o){const r=i.control;e.Y8G("ngIf",r.hasError(i.validation)&&(r.dirty||r.touched))}}const ce=function(o,i){return{"is-invalid":o,"is-valid":i}},ue=function(o){return{validation:"required",message:"Email is required",control:o}},de=function(o){return{validation:"email",message:"Email is invalid",control:o}},ge=function(o){return{validation:"minLength",message:"Email should have at least 3 symbols",control:o}},pe=function(o){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:o}};var u=function(o){return o[o.NotSubmitted=0]="NotSubmitted",o[o.HasError=1]="HasError",o[o.NoError=2]="NoError",o}(u||{});const Fe=[{path:"",component:_,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:I},{path:"registration",component:ne},{path:"forgot-password",component:(()=>{class o{fb;authService;forgotPasswordForm;errorState=u.NotSubmitted;errorStates=u;isLoading$;unsubscribe=[];constructor(r,n){this.fb=r,this.authService=n,this.isLoading$=this.authService.isLoading$}ngOnInit(){this.initForm()}get f(){return this.forgotPasswordForm.controls}initForm(){this.forgotPasswordForm=this.fb.group({email:["admin@demo.com",s.k0.compose([s.k0.required,s.k0.email,s.k0.minLength(3),s.k0.maxLength(320)])]})}submit(){this.errorState=u.NotSubmitted;const r=this.authService.forgotPassword(this.f.email.value).pipe((0,f.$)()).subscribe(n=>{this.errorState=n?u.NoError:u.HasError});this.unsubscribe.push(r)}static \u0275fac=function(n){return new(n||o)(e.rXU(s.ok),e.rXU(g.u))};static \u0275cmp=e.VBU({type:o,selectors:[["app-forgot-password"]],decls:26,vars:26,consts:[["novalidate","novalidate","id","kt_login_password_reset_form",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-gray-900","fw-bolder","mb-3"],[1,"text-gray-500","fw-semibold","fs-6"],[4,"ngIf"],[1,"fv-row","mb-8"],[1,"form-label","fw-bolder","text-gray-900","fs-6"],["type","email","formControlName","email","placeholder","Email","name","email","autocomplete","off",1,"form-control","bg-transparent",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","justify-content-center","pb-lg-0"],["type","submit","id","kt_password_reset_submit",1,"btn","btn-primary","me-4"],[1,"indicator-label"],["routerLink","/auth/login","id","kt_login_password_reset_form_cancel_button",1,"btn","btn-light"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"mb-10","bg-light-info","p-8","rounded"],[1,"text-info"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["role","alert"]],template:function(n,t){if(1&n&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return t.submit()}),e.j41(1,"div",1)(2,"h1",2),e.EFF(3," Forgot Password ? "),e.k0s(),e.j41(4,"div",3),e.EFF(5," Enter your email to reset your password. "),e.k0s()(),e.DNE(6,se,4,0,"ng-container",4),e.DNE(7,ie,4,0,"ng-container",4),e.j41(8,"div",5)(9,"label",6),e.EFF(10,"Email"),e.k0s(),e.nrm(11,"input",7),e.eu8(12,8)(13,8)(14,8)(15,8),e.k0s(),e.j41(16,"div",9)(17,"button",10)(18,"span",11),e.EFF(19,"Submit"),e.k0s(),e.DNE(20,ae,4,0,"ng-container",4),e.nI1(21,"async"),e.k0s(),e.j41(22,"a",12),e.EFF(23," Cancel "),e.k0s()()(),e.DNE(24,me,1,1,"ng-template",null,13,e.C5r)),2&n){const a=e.sdS(25);e.Y8G("formGroup",t.forgotPasswordForm),e.R7$(6),e.Y8G("ngIf",t.errorState===t.errorStates.HasError),e.R7$(1),e.Y8G("ngIf",t.errorState===t.errorStates.NoError),e.R7$(4),e.Y8G("ngClass",e.l_i(15,ce,t.forgotPasswordForm.controls.email.invalid,t.forgotPasswordForm.controls.email.valid)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(18,ue,t.forgotPasswordForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(20,de,t.forgotPasswordForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(22,ge,t.forgotPasswordForm.controls.email)),e.R7$(1),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(24,pe,t.forgotPasswordForm.controls.email)),e.R7$(5),e.Y8G("ngIf",e.bMT(21,13,t.isLoading$))}},dependencies:[m.YU,m.bT,m.T3,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,c.Wk,m.Jj],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]})}return o})()},{path:"logout",component:(()=>{class o{authService;constructor(r){this.authService=r,this.authService.logout()}ngOnInit(){}static \u0275fac=function(n){return new(n||o)(e.rXU(g.u))};static \u0275cmp=e.VBU({type:o,selectors:[["app-logout"]],decls:2,vars:0,template:function(n,t){1&n&&(e.j41(0,"p"),e.EFF(1,"logout works!"),e.k0s())}})}return o})()},{path:"main",component:l(3944).$},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let we=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[c.iI.forChild(Fe),c.iI]})}return o})(),ve=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[m.MD,s.X1,we]})}return o})()}}]);